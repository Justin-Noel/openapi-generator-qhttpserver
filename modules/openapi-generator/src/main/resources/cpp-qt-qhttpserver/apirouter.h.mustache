{{>licenseInfo}}
#ifndef {{prefix}}_APIROUTER_H
#define {{prefix}}_APIROUTER_H

#include <QObject>
#include <QSharedPointer>
#include <QHttpServer>

{{#apiInfo}}{{#apis}}{{#operations}}#include "{{classname}}Handler.h"
{{/operations}}{{/apis}}{{/apiInfo}}

{{#cppNamespaceDeclarations}}
namespace {{this}} {
{{/cppNamespaceDeclarations}}

class {{prefix}}ApiRouter : public QObject
{
    Q_OBJECT
public:
    {{prefix}}ApiRouter(QHttpServer *server);
    virtual ~{{prefix}}ApiRouter();

    void setupRoutes();
    {{#apiInfo}}{{#apis}}
    void set{{classname}}Handler(QSharedPointer<{{classname}}Handler> handler);{{/apis}}{{/apiInfo}}

protected:
    // override this method to provide custom class derived from ApiHandler classes
    virtual void createApiHandlers();

private:
    QHttpServer *m_server;
    {{#apiInfo}}{{#apis}}
    QSharedPointer<{{classname}}Handler> m{{classname}}Handler;{{/apis}}{{/apiInfo}}
};


{{#cppNamespaceDeclarations}}
}
{{/cppNamespaceDeclarations}}

#endif // {{prefix}}_APIROUTER_H
